C:\Users\Admin\AppData\Roaming\Python\Python313\site-packages\web3\__init__.py:2: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
============================= test session starts =============================
platform win32 -- Python 3.13.7, pytest-9.0.2, pluggy-1.6.0 -- C:\python313\python.exe
cachedir: .pytest_cache
metadata: {'Python': '3.13.7', 'Platform': 'Windows-11-10.0.26100-SP0', 'Packages': {'pytest': '9.0.2', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.12.0', 'langsmith': '0.4.37', 'asyncio': '1.3.0', 'cov': '7.0.0', 'httpx': '0.36.0', 'json-report': '1.5.0', 'metadata': '3.1.1', 'timeout': '2.4.0', 'web3': '6.11.2'}}
rootdir: C:\Users\Admin\Documents\GitHub\async-crud-mcp
configfile: pyproject.toml
plugins: anyio-4.12.0, langsmith-0.4.37, asyncio-1.3.0, cov-7.0.0, httpx-0.36.0, json-report-1.5.0, metadata-3.1.1, timeout-2.4.0, web3-6.11.2
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 21 items

tests/test_tools/test_async_update.py::TestAsyncUpdateContentSuccess::test_update_existing_file PASSED [  4%]
tests/test_tools/test_async_update.py::TestAsyncUpdateContentSuccess::test_update_returns_previous_and_new_hash PASSED [  9%]
tests/test_tools/test_async_update.py::TestAsyncUpdateContentSuccess::test_update_writes_content_to_disk PASSED [ 14%]
tests/test_tools/test_async_update.py::TestAsyncUpdateContentSuccess::test_update_updates_hash_registry PASSED [ 19%]
tests/test_tools/test_async_update.py::TestAsyncUpdateContentSuccess::test_update_bytes_written_correct PASSED [ 23%]
tests/test_tools/test_async_update.py::TestAsyncUpdatePatchSuccess::test_single_patch_applied PASSED [ 28%]
tests/test_tools/test_async_update.py::TestAsyncUpdatePatchSuccess::test_multiple_patches_applied_sequentially PASSED [ 33%]
tests/test_tools/test_async_update.py::TestAsyncUpdatePatchSuccess::test_patch_replaces_first_occurrence PASSED [ 38%]
tests/test_tools/test_async_update.py::TestAsyncUpdateContention::test_contention_on_hash_mismatch_content_mode PASSED [ 42%]
tests/test_tools/test_async_update.py::TestAsyncUpdateContention::test_contention_json_diff_format PASSED [ 47%]
tests/test_tools/test_async_update.py::TestAsyncUpdateContention::test_contention_unified_diff_format PASSED [ 52%]
tests/test_tools/test_async_update.py::TestAsyncUpdateContention::test_contention_patches_applicable_true PASSED [ 57%]
tests/test_tools/test_async_update.py::TestAsyncUpdateContention::test_contention_patches_applicable_false PASSED [ 61%]
tests/test_tools/test_async_update.py::TestAsyncUpdateContention::test_contention_non_conflicting_patches PASSED [ 66%]
tests/test_tools/test_async_update.py::TestAsyncUpdateContention::test_contention_does_not_modify_file PASSED [ 71%]
tests/test_tools/test_async_update.py::TestAsyncUpdateErrors::test_file_not_found PASSED [ 76%]
tests/test_tools/test_async_update.py::TestAsyncUpdateErrors::test_path_outside_base PASSED [ 80%]
tests/test_tools/test_async_update.py::TestAsyncUpdateErrors::test_invalid_patch_old_string_not_found PASSED [ 85%]
tests/test_tools/test_async_update.py::TestAsyncUpdateErrors::test_lock_timeout PASSED [ 90%]
tests/test_tools/test_async_update.py::TestAsyncUpdateErrors::test_content_or_patches_required PASSED [ 95%]
tests/test_tools/test_async_update.py::TestAsyncUpdateConcurrency::test_exclusive_lock_blocks_concurrent_updates PASSED [100%]

============================= 21 passed in 1.88s ==============================
